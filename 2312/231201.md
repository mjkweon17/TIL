## 23년 8월 1일

1. 모듈과 패키지
    - 모듈: 함수들이 뭉쳐진 하나의 .py 파일 안에 이루어진 것
    - 패키지: 여러 개의 모듈을 그룹화한 것
    - 패키지는 종종 라이브러리라고도 함
    - 자주 사용하는 파이썬 데이터 분석 모듈
        - numpy, pandas, matplotlib.pyplot, seaborn, random
    - 자주 사용하는 파이썬 인공지능 모듈
        - NumPy, SciPy, TensorFlow, Keras, PyTorch, Scikit-learn, Pandas
    - https://wikidocs.net/138246
2. shutil
    - 오늘은 파일과 폴더를 이동하거나 복사하고 싶을 때 사용하는 모듈
    - https://wikidocs.net/149330
3. SQLAlchemy.db
    - db.add(object): 새로운 사용자 객체를 데이터베이스 세션에 추가하는 함수. 아직 데이터베이스에 저장되지는 않음. 이 단계에서는 SQLAlchey가 추척만 하고 있는 상황
    - db.commit(): 세션에 추적되고 있는 모든 변경사항(추가, 수정, 삭제 등)을 데이터베이스에 실제로 반영함. 이 단계를 거친 후에야 실제 데이터베이스에 변경사항이 저장되며, 이전 단계에서 추적되었던 객체들의 상태가 
    - db.refresh(object): 특정 객체에 대해 SQLAlechemy가 가지고 있는 현재의 정보를 데이터베이스로부터 최신 상태로 업데이트함. 주로 데이터베이스에서 자동으로 생성된느 값들(예: 자동 증가하는 ID, 기본값, 트리거에 의해 생성되는 값 등)을 반영하기 위해 사용됨.
    - db.delete(object): 데이터베이스에서 특정 객체를 삭제
    - db.update(object): 데이터베이스의 특정 객체를 업데이트
    - db.flush(): 현재 세션의 모든 변경사항을 데이터베이스에 보내지만, 트랜잭션은 아직 열려 있으므로 롤백이 가능함. db.commit()과 비슷하지만, db.commit()은 트랙잭션을 종료하는 반면 db.flush()는 트랜잭션을 유지한다
    - db.expunge(object): 세션에서 특정 객체를 제거하여 더 이상 추적하지 않도록 함
    - db.merge(object): 주어진 객체를 현재 세션에 병합함. 만약 같은 아이디를 가진 객체가 세션에 이미 존재한다면, 그 객체의 상태가 주어진 객체의 상태로 업데이트 됨
    - db.close(): 세션을 닫음. 세션을 닫으면 현재 세션에서 추적하고 있는 모든 객체를 제거하고, 트랜잭션을 종료함.
4. 트랜잭션
    - 데이터베이스의 상태를 변화시키기 위해 수행하는 작업의 단위
    - 트랜잭션의 특징 중 하나는 트랙잭션이 완전히 수행되거나(commit), 아니면 아예 수행되지 않는 것(rollback)을 보장한다는 것
    - db.add, db.add, db.commit, except SQLAlchemyError: db.rollback, finally: db.close
    - db.commit을 호출하면 그 시점까지의 모든 변경사항이 데이터베이스에 반영되고, 그와 동시에 현재의 트랜잭션은 종료됨. 따라서 db.commit이후의 작업은 새로운 트랜잭션에서 이루어짐.
5. 세션을 닫아야 하는 이유
    - 세션을 닫지 않으면, 해당 세션은 여전히 데이터베이스와의 연결을 유지하게 됨. 그리고 아래의 문제들이 발생함.
    1. 리소스 누수: 데이터베이스 연결은 시스템 리소스를 사용함. 따라서 세션을 닫지 않고 계속 열어두면, 불필요하게 시스템 리소스를 소모하게 되며, 이는 성능 저하로 이어질 수 있음.
    2. 데이터 일관성 문제: 세션을 통해 데이터베이스에 접근하는 동안, 해당 세션은 데이터베이스의 특정 상태를 유지하게 됨. 이 상태는 다른 세션에서 데이터베이스의 상태를 변경하더라도 계속 유지되므로, 세션을 닫지 않고 계속 유지하면 오래된 상태의 데이터를 참조하게 되어 데이터 일관성 문제가 발생할 수 있음.
    3. 트랜잭션 관리 문제: 세션은 트랜잭션의 단위를 관리함. 세션을 닫지 않으면, 트랜잭션이 제대로 종료되지 않아 데이터베이스의 정확한 상태를 파악하기 어렵게 됨.
