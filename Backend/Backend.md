### Nginx
- 소프트웨어 웹 서버: HTTP 프로토콜을 이용해 사용자의 웹 브라우저와 통신함. 대표적인 웹 서버 소프트웨어로는 Apache, Nginx, Microsoft IIS 등이 있음. 이 소프트웨어는 사용자로부터 웹 페이지 접근 요청을 받으면, 해당하는 웹 페이지나 파일을 찾아 사용자에게 전송함.
- 장점
    - 정적 파일 처리
        - 성능 향상: Nginx는 정적 파일(HTML, CSS, 이미지 등)을 처리하는 데 최적화되어 있음. FastAPI와 같은 애플리케이션 서버는 주로 동적 콘텐츠를 처리하는 데 사용되므로, Nginx를 프론트에 두어 정적 파일 요청을 처리하게 함으로써 전체적인 서버의 성능을 향상시킬 수 있음.
    - 리버스 프록시
        - 보안 및 익명성 향상: Nginx를 리버스 프록시로 사용하면, 실제 애플리케이션 서버(FastAPI)의 정보를 숨길 수 있음. 이는 외부의 직접적인 접근으로부터 애플리케이션 서버를 보호하는 역할을 함.
        - 부하 분산: 여러 애플리케이션 서버 인스턴스가 있을 때 Nginx는 요청을 여러 서버에 분산시켜 처리할 수 있음. 이를 통해 서버의 부하를 균등하게 분산시키고, 가용성과 확장성을 향상시킬 수 있음.
    - SSL/TLS 처리
        - 암호화된 연결: Nginx는 SSL/TLS 설정을 통해 HTTPS 연결을 구성할 수 있음. 이를 통해 데이터의 안전한 전송을 보장하고, 사용자의 정보를 보호할 수 있음
    - 설정과 관리의 용이성
        - 고급 구성 옵션: Nginx는 다양한 고급 구성 옵션을 제공함. URL 재작성, 캐시 관리, 액세스 제어 등 다양한 기능을 통해 웹 애플리케이션의 성능과 보안을 향상시킬 수 있음.
- Nginx 사용 방법
    - Nginx 설치: EC2 인스턴스에 Nginx를 설치함.
    - 구성 파일 설정: Nginx의 구성 파일(보통 /etc/nginx/nginx.conf 또는 /etc/nginx/sites-available/your_domain에 위치)을 편집하여 리버스 프록시 설정을 추가함. 여기에는 FastAPI 서버가 사용하는 포트로의 프록시 패스 설정이 포함됨.
    - SSL/TLS 설정: 필요한 경우, Let's Encrypt와 같은 서비스를 사용하여 SSL/TLS 인증서를 발급받고, Nginx에 설정하여 HTTPS 연결을 활성화함.
    - Nginx 재시작: 설정을 변경한 후 Nginx를 재시작하여 변경사항을 적용함.
- 이런 방식으로 Nginx를 설정하면, 외부 요청은 먼저 Nginx를 통과하고, Nginx는 해당 요청을 FastAPI 서버로 전달함. 이 과정에서 Nginx는 정적 파일 처리, 보안 강화, 부하 분산 등의 역할을 수행함.

### HTTPS 적용
1. EC2 인스턴스 준비
    - EC2 인스턴스가 실행 중이어야 하며, 웹 서버가 설치되어 있어야 합니다. Apache 또는 Nginx와 같은 웹 서버를 예로 들 수 있음.
    - 보안 그룹 설정에서 80번(HTTP) 포트와 443번(HTTPS) 포트가 열려 있어야 함.
2. 도메인 이름 설정
    - EC2 인스턴스에 대해 도메인 이름이 설정되어 있어야 함. Route 53 또는 다른 DNS 서비스를 사용하여 도메인 이름을 EC2 인스턴스의 IP 주소와 연결함.
3. Certbot 설치
    - Certbot은 Let's Encrypt 인증서를 자동으로 설치하고 갱신해 주는 도구. 운영 체제에 따라 설치 방법이 다를 수 있음.
4. 인증서 발급 및 설치
    - 웹 서버와 통합하여 인증서를 발급받고 자동으로 설치하려면 다음 명령을 사용
5. 자동 갱신 설정
    - Let's Encrypt 인증서는 90일마다 갱신해야 함. Certbot은 자동 갱신을 위한 스크립트를 제공함.
- AWS에서 제공하는 추가 서비스, 예를 들어 AWS Certificate Manager(ACM)를 사용하여 SSL/TLS 인증서를 관리하는 방법도 있음. ACM을 사용하면 AWS 클라우드 내에서 인증서를 쉽게 관리할 수 있지만, 일반적으로 ELB(로드 밸런서) 또는 CloudFront와 같은 다른 AWS 서비스와 함께 사용됨.
- https://chat.openai.com/share/ed5dcc8e-1f4d-4fcb-892d-1cca4175d5af